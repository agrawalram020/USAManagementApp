
<!DOCTYPE html><html><head>
    <title>Unity Shuttle Arena ERP</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body { background:#f4f7fa; font-family: 'Inter', system-ui, -apple-system, sans-serif; }
        .navbar { background: #111827 !important; padding: 0.8rem 1.5rem; }
        .card { border: none; border-radius: 12px; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); }
        .btn-primary { background: #2563eb; border: none; border-radius: 8px; }
        #loader { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255,255,255,0.8); z-index: 9999; display: none; justify-content: center; align-items: center; }
        .spinner { width: 40px; height: 40px; border: 4px solid #f3f3f3; border-top: 4px solid #2563eb; border-radius: 50%; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        .low-stock { border: 2px solid #ef4444 !important; animation: glow 2s infinite; }
        @keyframes glow { 0%, 100% { box-shadow: 0 0 5px rgba(239, 68, 68, 0.2); } 50% { box-shadow: 0 0 15px rgba(239, 68, 68, 0.5); } }
        .status-pending { background: #fffbeb; color: #92400e; border: 1px solid #fef3c7; }
    </style>
</head>
<body>
    <div id="loader"><div class="spinner"></div></div>
    <nav class="navbar navbar-expand-lg navbar-dark shadow mb-4">
        <a class="navbar-brand fw-bold" href="/">üè∏ Unity Shuttle Arena</a>
        <div class="ms-auto d-flex align-items-center gap-2">
            {% if session['role'] == 'owner' %}
            <a href="/dashboard" class="btn btn-sm btn-outline-light">Analytics</a>
            <a href="/inventory" class="btn btn-sm btn-outline-light">Stock</a>
            {% endif %}
            <a href="/tasks" class="btn btn-sm btn-warning">Tasks</a>
            <a href="/" class="btn btn-sm btn-primary">POS</a>
            <a href="/logout" class="btn btn-sm btn-danger">Logout</a>
        </div>
    </nav>
    <div class="container-fluid px-4">{% block content %}{% endblock %}</div>
    <script>
        function showLoader() { document.getElementById('loader').style.display = 'flex'; }
        window.addEventListener('beforeunload', showLoader);
        document.querySelectorAll('form').forEach(f => f.addEventListener('submit', function(e) { if(!f.classList.contains('no-loader')) showLoader(); }));
    </script>
    {% block scripts %}{% endblock %}
</body></html>
